# Инструкции по деплою и исправлению проблем

## Проблема
Приложение развернуто на Vercel, но база данных PostgreSQL пуста, что приводит к:
- Отсутствию реакции на daily check-in
- Пропаданию отображения Level и изображений
- Отсутствию категорий на странице Categories
- Отсутствию статистики на странице Stats

## Решение

### Шаг 1: Развернуть обновления
```bash
# Авторизоваться в Vercel (если не авторизованы)
vercel login

# Развернуть обновления
vercel --prod
```

### Шаг 2: Инициализировать базу данных
После успешного деплоя выполните один из следующих способов:

#### Способ 1: Через браузер
Откройте в браузере:
```
https://health-buddy-seven.vercel.app/api/seed
```

#### Способ 2: Через curl/PowerShell
```powershell
Invoke-WebRequest -Uri "https://health-buddy-seven.vercel.app/api/seed" -Method GET
```

#### Способ 3: Через Node.js скрипт
```bash
node scripts/deploy-seed.js
```

### Шаг 3: Проверить состояние базы данных
Проверьте подключение к базе данных:
```
https://health-buddy-seven.vercel.app/api/health
```

### Шаг 4: Проверить функциональность
После инициализации базы данных проверьте:
1. **Главная страница**: Daily check-in должен работать
2. **Страница Categories**: Должны отображаться категории и действия
3. **Страница Stats**: Должна отображаться статистика
4. **Level и изображения**: Должны корректно отображаться

## Созданные файлы для решения проблем

1. **`/app/api/seed/route.ts`** - API для инициализации базы данных
2. **`/app/api/health/route.ts`** - API для проверки подключения к БД
3. **`/scripts/deploy-seed.js`** - Скрипт для автоматической инициализации

## Возможные проблемы

### Если получаете 500 ошибки:
- Проверьте переменные окружения DATABASE_URL в Vercel
- Убедитесь, что PostgreSQL база данных доступна
- Проверьте логи в Vercel Dashboard

### Если API /seed возвращает 404:
- Убедитесь, что файл `/app/api/seed/route.ts` был развернут
- Проверьте, что деплой прошел успешно

### Если данные не отображаются после сидинга:
- Очистите кэш браузера
- Проверьте Network tab в DevTools на наличие ошибок API

## Контакты для поддержки
Если проблемы продолжаются, проверьте:
1. Логи Vercel Dashboard
2. Console браузера на наличие JavaScript ошибок
3. Network tab для проверки API запросов